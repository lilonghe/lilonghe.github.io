<!DOCTYPE html><html><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,minimum-scale=1,maximum-scale=1"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="description" content="MySQL"><link rel="alternate" href="/default" title="杂记"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=1.1"><link rel="canonical" href="https://www.lilonghe.net/archives/MySQL.html"><meta name="description" content="JSON1SELECT id,json_extract(content,&amp;apos;$.intro&amp;apos;) AS &amp;quot;intro&amp;quot;,json_extract(content,&amp;apos;$.word_count&amp;apos;) AS &amp;quot;word_count&amp;quot; FROM books where content-&amp;gt;&amp;apos;$.word_count&amp;a"><meta property="og:type" content="article"><meta property="og:title" content="MySQL"><meta property="og:url" content="https://www.lilonghe.net/archives/MySQL.html"><meta property="og:site_name" content="杂记"><meta property="og:description" content="JSON1SELECT id,json_extract(content,&amp;apos;$.intro&amp;apos;) AS &amp;quot;intro&amp;quot;,json_extract(content,&amp;apos;$.word_count&amp;apos;) AS &amp;quot;word_count&amp;quot; FROM books where content-&amp;gt;&amp;apos;$.word_count&amp;a"><meta property="og:updated_time" content="2017-06-12T13:57:25.382Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="MySQL"><meta name="twitter:description" content="JSON1SELECT id,json_extract(content,&amp;apos;$.intro&amp;apos;) AS &amp;quot;intro&amp;quot;,json_extract(content,&amp;apos;$.word_count&amp;apos;) AS &amp;quot;word_count&amp;quot; FROM books where content-&amp;gt;&amp;apos;$.word_count&amp;a"><link rel="stylesheet" type="text/css" href="/css/style.css?v=1.1"><link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet"><script type="text/javascript">var themeConfig={fancybox:{enable:!1}}</script><script type="text/javascript">!function(e,a,t,n,c,o,s){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,o=a.createElement(t),s=a.getElementsByTagName(t)[0],o.async=1,o.src=n,s.parentNode.insertBefore(o,s)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-69142286-1","auto"),ga("send","pageview")</script><title>MySQL - 杂记</title></head><body><div id="page"><header id="masthead"><div class="site-header-inner"><h1 class="site-title"><a href="/." class="logo">杂记</a></h1><nav id="nav-top"><ul id="menu-top" class="nav-top-items"><li class="menu-item"><a href="http://note.lilonghe.net/archives" target="_blank">Note</a></li><li class="menu-item"><a href="/archives">Archives</a></li><li class="menu-item"><a href="http://diary.lilonghe.net" target="_blank">Diary</a></li><li class="menu-item"><a href="/about">About</a></li></ul></nav></div></header><div id="content"><div id="primary"><article class="post"><header class="post-header"><h1 class="post-title">MySQL</h1><time class="post-time">Jun 12 2017 - Jun 12 2017</time></header><div class="post-content"><h2 id="JSON"><a href="#JSON" class="headerlink" title="JSON"></a>JSON</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">SELECT id,json_extract(content,&apos;$.intro&apos;) AS &quot;intro&quot;,json_extract(content,&apos;$.word_count&apos;) AS &quot;word_count&quot; FROM books where content-&gt;&apos;$.word_count&apos;&gt;4000000;</div></pre></td></tr></table></figure><h2 id="MAC-Packets-out-of-order"><a href="#MAC-Packets-out-of-order" class="headerlink" title="MAC Packets out of order."></a>MAC Packets out of order.</h2><p>copy /usr/local/mysql/suppert-files/my-default.cnf<br>to /etc/my.cnf<br>under [mysqld]<br>set max_allowed_packet = 666M</p><h2 id="5-7-only-full-group-by"><a href="#5-7-only-full-group-by" class="headerlink" title="5.7 only_full_group_by"></a>5.7 only_full_group_by</h2><p>刚开始是有点奇怪的，以为 sql server 和 oracle 好像都不能 group by 多个字段，没想到 mysql 5.7 以前的版本都默认可以使用<br>搜索 only_full_group_by 即可找到解决方案</p></div></article></div></div><footer id="colophon"><span class="copyright-year">&copy; 2016 - 2017 <span class="footer-author">李龙贺.</span> <span class="power-by">Powered by <a class="hexo-link" href="https://hexo.io/">Hexo</a> and <a class="theme-link" href="https://github.com/frostfan/hexo-theme-polarbear">Polar Bear</a></span></span></footer></div></body></html>